# 함수형 프로그래밍

프로그래밍 패러다임은 다음과 같이 구분할 수 있다.
- 명령형 프로그래밍: 무엇(What)을 할 것인지 나타내기보다 어떻게(How)할 건지를 설명하는 방식
    - 절차지향 프로그래밍: 수행되어야 할 순차적인 처리 과정을 포함하는 방식(C, C++)
    - 객체지향 프로그래밍: 객체들의 집합으로 프로그램의 상호작용을 표현(C++, Java, C#)
- 선언형 프로그래밍: 어떻게 할건지(How)를 나타내기보다 무엇(What)을 할건지를 설명하는 방식
    - 함수형 프로그래밍: **순수함수**를 조합하고 소프트웨어를 만드는 방식(**클로저**, 하스켈, 리스프). 클로저라는 이름은 `Swift`에서도 익숙하다.

## 등장기반
- 기존에 명령형프로그래밍으로 개발하면서 소프트웨어의 크기가 커지고 스파게티 코드가 되고, 유지보수가 어려워짐
- 작은 작업들을 순수함수로 나누어 문제를 해결하는 기법인 **함수형 프로그래밍**을 도입해서 가독성을 높이고 유지보수에 용이하게 해줌.
- 클린코드(Clean Code)의 저자 Rovert C.Martin은 함수형 프로그래밍을 **대입문이 없는 프로그래밍**이라고 정의하였다.

## 함수형 프로그래밍에 대한 이해
함수형 프로그래밍에 대한 앞의 내용들을 다시 살펴보고 가자
- 대입문을 사용하지 않는 프로그래밍
- 작은 문제를 해결하기 위해 순수함수를 작성
그동안 대부분은 명령형 프로그래밍으로 개발해왔기 때문에 대입문이 없는 프로그래밍은 상당이 생소하다.<br>
왜냐하면 다음과 같이 간단한 코드에서도 변수가 할당되고, 값이 대입되기 때문이다.
```swift
for index in 1..<10 {
    print(i)
}
```
함수형 프로그래밍에서는 위와 같은 코드를 다음과 같이 작성할 수 있다.
```swift
process(10, print(num))
```
- 얼마나 반복할것인가를 매개 변수로 받고 있고, 값을 출력하라는 **함수**를 매개변수로 받고 있다.
- 1급 객체(First-Class Object)로 함수를 관리하는 특징 때문에 **출력하는 함수**를 파라미터로 넘길 수 있다.

## 함수형 프로그래밍의 특징
> 부수효과가 없는 순수함수를 1급객체로 취급하여 파라미터나 반환값으로 사용할 수 있고, 참조 투명성을 지킬 수 있다.

네가지 키워드에 대해 살펴보자
- 부수 효과
- 순수 함수
- 1급 객체
- 참조 투명성

### 부수효과(Side Effect)
- 변수의 값이 변경됨
- 자료구조를 제자리에서 수정함
- 객체의 필드값을 설정함
- 예외나 오류가 발생하며 실행이 중단됨
- 콘솔 또는 파일 I/O가 발생함

### 순수함수(Pure Function)
부수효과(Side Effect)를 제거한 함수들을 순수 함수(Pure Function)이라고 부른다. 함수형 프로그래밍에서 사용하는 함수는 이러한 순수함수들이다.
- Memory or I/O의 관점에서 Side Effect가 없는 함수
- 함수의 실행이 외부에 영향을 끼치지 않는 함수
- 장점
    - 함수 자체가 독립적이며 Side Effect가 없기 때문에 Thread-Safe하다.
    - Thread의 안정성을 보장받아 병렬처리를 동기화 없이 진행할 수 있다.

### 1급 객체(Fist-Class Object)
함수형 프로그래밍에서는 함수가 1급 객체가 된다. 1급객체의 특징은 다음과 같다.
- 변수나 데이터 구조안에 담을 수 있다.
- 파라미터로 전달할 수 있다.
- 반환 값(return value)로 사용할 수 있다.
- 할당에 사용된 이름과 관계없이 고유한 구별이 가능하다.
- 동적으로 프로퍼티 할당이 가능하다.

### 참조 투명성(Referential Transparency)
참조 투명성이란 다음과 같다.
- 동일한 인자에 대해 항상 동일한 결과를 반환해야한다.
- 참조 투명성을 통해 기존의 값은 변경되지 않고 유지된다.(Immutable Data)

참조에 투명하다는 것은 함수를 실행하여도 어떠한 상태변화없이 항상 동일한 결과를 반환하므로 항상 동일하게(투명하게) 실행결과를 참조(예측)할 수 있다는 것을 의미한다. <br>
**부작용을 제거하여 프로그램의 동작을 이해하고 예측을 용이하게 하는 것**은 함수형 프로그래밍으로 개발하려는 핵심동기 중 하나이다.<br>
함수형 프로그래밍에서는 값의 대입이 없이 항상 동일한 실행에대해 동일한 결과를 반환하므로 **병렬처리환경에서 Race Condition에 대한 비용을 줄여준다.**

## Reference
- [[프로그래밍] 함수형 프로그래밍(Functional Programming) 이란?](https://mangkyu.tistory.com/111)
- [함수형 프로그래밍이란?](https://jongminfire.dev/%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%B4%EB%9E%80)